# Quark VM

Quark VM - это учебный проект по созданию ассемблера и интерпретатора для учебной виртуальной машины (УВМ).

## Этапы выполнения задания:
- Этап 1. Перевод программы в промежуточное представление - Выполнен
- Этап 2. Формирование машинного кода - Текущий
- Этап 3. Интерпретатор и операции с памятью
- Этап 4. Реализация арифметико-логического устройства (АЛУ)
- Этап 5. Выполнение тестовой задачи

- *Вариант 23*

## Текущие возможности:
### 1 этап
- Ассемблер принимает на вход аргументы командной строки:
  - Путь к исходному файлу с текстом программы
  - Путь к двоичному файлу-результату
  - Режим тестирования
- Спроектирован человекочитаемый язык ассемблера в формате CSV
- Реализован транслятор, преобразующий код на ассемблере во внутреннее представление
- В режиме тестирования на экран выводится внутреннее представление программы в формате полей и значений
- Создана программа для тестов

## Спецификация языка ассемблера
Регистры:
    `R0-R7`

- `ldc` - load constant - Загрузка константы  
  Описание: Загрузить константу `const` в регистр `rb`  
  Использование: `ldc, <rb>, <const>`
    - `rb`    - регистр, в который будет загружена константа
    - `const` - числовое значение константы

- `ldr` - load from memory - Чтение из памяти  
  Описание: Поместить значение из памяти (адрес в rb) в регистр `rc`  
  Использование: `ldr, <rb>, <rc>`
    - `rb` - регистр, хранящего адрес, по которому будет прочитано значение
    - `rc` - регистр, в который будет помещено прочитанное значение

- `str` - store - Запись значения в память  
  Описание: Записать данные из `rb` в память по адресу `rd + offdet`  
  Использование: `str, <rb>, <offset>, <rd>`
    - `rb` - регистр-источник данных
    - `rd` - регистр, содержащий базовый адрес
    - `offset` - числовое смещение

- `popcnt` - population count - Операция подсчёта единичных битов в двоичном представлении числа  
  Описание: Подсчитать единичные биты в `rb`, результат поместить в `rc`  
  Использование: `popcnt, <rc>, <rb>`
    - `rb` - регистр, из которого берётся число для анализа
    - `rc` - регистр, куда будет записан результат операции  